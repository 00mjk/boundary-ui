{{!--
  In an error route, the error instance is `@model`.  Error instances contain
  a list of errors, each of which has one convenience boolean set on it:

  * Error booleans are attached based on the error status code:
  *
  *   - `error.isUnauthenticated`:  the session isn't authenticated
  *   - `error.isForbidden`:  the session is authenticated but does not have
  *                         permission to perform the requested action
  *   - `error.isNotFound`:  the requested resource could not be found
  *   - `error.isServer`:  an internal server error occurred
  *   - `error.isUnknown`:  an error occurred, but we don't know which or
  *                   we don't distinguish it yet

--}}
<Rose::Layout::Centered>
  {{#each @model.errors as |error|}}
    {{!-- error.status === 401 --}}
    {{#if error.isUnauthenticated}}
      <Rose::Message @title={{t 'titles.unauthenticated-error'}} @subtitle={{error.status}} @icon="disabled" as |message|>
        <message.description>{{error.message}} {{t 'descriptions.unauthenticated-error'}}</message.description>
        <message.link @route="index">{{t 'actions.help'}}</message.link>
      </Rose::Message>
    {{/if}}

    {{!-- error.status === 403 --}}
    {{#if error.isForbidden}}
      <Rose::Message @title={{t 'titles.forbidden-error'}} @subtitle={{error.status}} @icon="disabled" as |message|>
        <message.description>{{error.message}} {{t 'descriptions.forbidden-error'}}</message.description>
        <message.link @route="index">{{t 'actions.help'}}</message.link>
      </Rose::Message>
    {{/if}}

    {{!-- error.status === 404 --}}
    {{#if error.isNotFound}}
      <Rose::Message @title={{t 'titles.notfound-error'}} @subtitle={{error.status}} @icon="help-circle-outline" as |message|>
        <message.description>{{error.message}} {{t 'descriptions.notfound-error'}}</message.description>
        <message.link @route="index">{{t 'actions.help'}}</message.link>
      </Rose::Message>
    {{/if}}

    {{!-- error.status === 500 --}}
    {{#if error.isServer}}
      <Rose::Message @title={{t 'titles.server-error'}} @subtitle={{error.status}} @icon="alert-circle-outline" as |message|>
        <message.description>{{error.message}} {{t 'descriptions.server-error'}}</message.description>
        <message.link @route="index">{{t 'actions.help'}}</message.link>
      </Rose::Message>
    {{/if}}

    {{!-- error.status === ðŸ¤· everything else --}}
    {{#if error.isUnknown}}
      <Rose::Message @title={{t 'titles.unknown-error'}} @subtitle={{error.status}} @icon="alert-circle-outline" as |message|>
        <message.description>{{error.message}} {{t 'descriptions.unknown-error'}}</message.description>
        <message.link @route="index">{{t 'actions.help'}}</message.link>
      </Rose::Message>
    {{/if}}
  {{/each}}
</Rose::Layout::Centered>
