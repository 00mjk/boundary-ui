<Rose::Layout::Sidebar as |sidebarLayout|>

  {{#if this.session.isAuthenticated}}
    {{#unless @model.isGlobal}}
    <sidebarLayout.sidebar>
      <Rose::Nav::Sidebar @title={{t "titles.general"}} as |nav|>
        <nav.link @route="scopes.scope.projects">
          <Rose::Icon
            @name="boundary-icons/project"
            @size="medium" />
          {{t "resources.project.title_plural"}}
        </nav.link>
      </Rose::Nav::Sidebar>

      <Rose::Nav::Sidebar @title={{t "titles.iam"}} as |nav|>
        <nav.link @route="scopes.scope.users">
          <Rose::Icon
            @name="boundary-icons/users"
            @size="medium" />
          {{t "resources.user.title_plural"}}
        </nav.link>
        <nav.link @route="scopes.scope.groups">
          <Rose::Icon
            @name="boundary-icons/group"
            @size="medium" />
          {{t "resources.group.title_plural"}}
        </nav.link>
        <nav.link @route="scopes.scope.roles">
          <Rose::Icon
            @name="boundary-icons/roles"
            @size="medium" />
          {{t "resources.role.title_plural"}}
        </nav.link>
        <nav.link @route="scopes.scope.auth-methods">
          <Rose::Icon
            @name="boundary-icons/auth-method"
            @size="medium" />
          {{t "resources.auth-method.title_plural"}}
        </nav.link>
      </Rose::Nav::Sidebar>

      {{outlet "sidebar"}}

    </sidebarLayout.sidebar>
    {{/unless}}
  {{/if}}

  <sidebarLayout.body>
    <main>
      {{outlet}}
    </main>
  </sidebarLayout.body>

</Rose::Layout::Sidebar>
