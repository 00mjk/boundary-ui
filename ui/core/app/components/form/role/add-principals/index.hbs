{{#if this.hasAvailablePrincipals}}
  <Rose::Form
    class="full-width"
    @onSubmit={{fn this.submit @submit}}
    @cancel={{@cancel}}
    @disabled={{@model.isSaving}}
    @error={{@model.errors.base}}
    as |form|
  >

    <form.actions
      @submitText={{t "actions.add-principals"}}
      @cancelText={{t "actions.cancel"}} />

    <Rose::Table as |table|>
      <table.header as |header|>
        <header.row as |row|>
          <row.headerCell>{{t 'form.label.id'}}</row.headerCell>
          <row.headerCell>{{t 'form.label.name'}}</row.headerCell>
          <row.headerCell>{{t 'form.label.type'}}</row.headerCell>
        </header.row>
      </table.header>
      <table.body as |body|>
        {{#each @groups as |group|}}
          <body.row as |row|>
            <row.cell>
              <form.checkbox
                @label={{group.id}}
                @description={{group.description}}
                onChange={{fn this.togglePrincipal group}} />
            </row.cell>
            <row.cell>{{group.name}}</row.cell>
            <row.cell>
              <Rose::Badge>{{t "resources.group"}}</Rose::Badge>
            </row.cell>
          </body.row>
        {{/each}}
        {{#each @users as |user|}}
          <body.row as |row|>
            <row.cell>
              <form.checkbox
                @label={{user.id}}
                @description={{user.description}}
                onChange={{fn this.togglePrincipal user}} />
            </row.cell>
            <row.cell>{{user.name}}</row.cell>
            <row.cell>
              <Rose::Badge>{{t "resources.user"}}</Rose::Badge>
            </row.cell>
          </body.row>
        {{/each}}
      </table.body>
    </Rose::Table>

  </Rose::Form>
{{/if}}

{{#unless this.hasAvailablePrincipals}}
  <Rose::Layout::Centered>
    <Rose::Message @title={{t "titles.no-principals"}} as |message|>
      <message.description>
        {{t "descriptions.no-principals"}}
      </message.description>
    </Rose::Message>
  </Rose::Layout::Centered>
{{/unless}}
