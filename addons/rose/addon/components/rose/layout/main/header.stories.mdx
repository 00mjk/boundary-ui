import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { hbs } from 'ember-cli-htmlbars';
import { action } from '@storybook/addon-actions';
import { text, boolean, select } from '@storybook/addon-knobs';

<Meta title="Rose|Layout|Main" component="Header" />

# Layout | Main Header

A header component for main layout component with ability to configure title and action buttons. Title can be configured to be a either a dropdown component or a simple heading title. The title dropdown is `Rose::Header::Dropdown` component where as all header actions are `Rose::Button` components.

```html
<Rose::Layout::Main::Header as |header|>
  <header.title as |title|>
    <title.dropdown @text="Page title" as |dropdown|>
      <dropdown.link @route="index">Menu item</dropdown.link>
      <dropdown.link @route="about">Menu item</dropdown.link>
      <dropdown.button>Button menu item</dropdown.button>
    </title.dropdown>
  </header.title>
  <header.action @style="secondary">Secondary</header.action>
  <header.action @style="primary">Primary</header.action>
</Rose::Layout::Main::Header>
```

<Preview>
  <Story name="Main Header">{{
    template: hbs`
    <Rose::Layout::Main::Header as |header|>
      <header.title as |title|>
        <title.dropdown
          @text={{pagetitle}}
          @icon={{dropdownIcon}} as |dropdown|>
          <dropdown.link @route="index">Menu item</dropdown.link>
          <dropdown.link @route="about">Menu item</dropdown.link>
          <dropdown.button>Button menu item</dropdown.button>
        </title.dropdown>
      </header.title>
      <header.action @style="secondary">Secondary</header.action>
      <header.action @style="primary">Primary</header.action>
    </Rose::Layout::Main::Header>
    `,
    context: {
      pagetitle: text('page title', 'Page Section Title'),
      dropdownIcon: select(
        'dropdown icon',
        {
          'user-square-fill': 'user-square-fill',
          'check-circle-outline': 'check-circle-outline',
          'copy-action': 'copy-action',
          'unfold-more': 'unfold-more',
          'unfold-less': 'unfold-less',
        },
        'user-square-fill'
      ),
    },
  }}</Story>
</Preview>

Main page title can configured to be a basic title.

```html
<Rose::Layout::Main::Header as |header|>
  <header.title @text="Page title" @icon="user-square-fill"/>
</Rose::Layout::Main::Header>
```
