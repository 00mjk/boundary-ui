import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { hbs } from 'ember-cli-htmlbars';
import { action } from '@storybook/addon-actions';
import { text, boolean, select } from '@storybook/addon-knobs';

<Meta title="Rose|Message" component="Message" />

# Message

A message component containing a title, description, and nav links. Title can be configured with optional icon and subtitle.

```html
<Rose::Message @title="You are not authorized" @subtitle="Error 403" @description="You must be granted permissions to view this data. Ask your administrator if you think you should have access." @icon="disabled" as |message|>
  <message.link @route="index" @leftAlign={{true}}> {{inline-svg "chevron-left"}} Go back</message.link>
  <message.link @route="index">Need help?</message.link>
</Rose::Message>
```

<Preview>
  <Story name="Advanced">{{
    template: hbs`
    <Rose::Message @title={{title}} @subtitle={{subtitle}} @description={{description}} @icon={{icon}} as |message|>
      <message.link @route="index" @leftAlign={{true}}>{{inline-svg "chevron-left"}} Go back</message.link>
      <message.link @route="index">Need help?</message.link>
    </Rose::Message>
    `,
    context: {
      title: text('title', 'You are not authorized'),
      subtitle: text('subtitle', 'Error 403'),
      description: text('description', 'You must be granted permissions to view this data. Ask your administrator if you think you should have access.'),
      icon: select(
        'icon',
        {
          'alert-circle-outline': 'alert-circle-outline',
          'help-circle-outline': 'help-circle-outline',
          'disabled': 'disabled',
        },
        'disabled'
      ),
    },
  }}</Story>
</Preview>

Message can be configured without icons and navigation links.
```html
<Rose::Message @title="No logs received yet" @description="Your logs will appear here when we start receiving them. If your server is currently outputting logs, check your configuration." />
```
<Preview>
  <Story name="Basic">{{
    template: hbs`
    <Rose::Message @title="No logs received yet" @description="Your logs will appear here when we start receiving them. If your server is currently outputting logs, check your configuration." />
    `,
    context: {
      title: text('title', 'No logs received yet'),
      description: text('description', 'Your logs will appear here when we start receiving them. If your server is currently outputting logs, check your configuration.'),
    },
  }}</Story>
</Preview>

Message can be configured with a single left aligned link.
```html
<Rose::Message @title="Welcome to Namespaces" @description="Namespaces allow you to create distinct areas with their own separate policies, mounts, tokens, and identity entities." as |message|>
  <message.link @route="index" @leftAlign={{true}}>Add a namespace</message.link>
</Rose::Message>
```
